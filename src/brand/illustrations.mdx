import { Meta, Title } from '@storybook/blocks';
// Load all icons
// @see https://vitejs.dev/guide/features.html#glob-import
export const illustrations = import.meta.glob('../assets/illustrations/*.svg', {
	as: 'url',
	eager: true,
});
// Generate Storybook Icon elements for each
// @see https://storybook.js.org/docs/react/api/doc-block-icongallery
export const generateElements = (illustrations) => {
	return Object.entries(illustrations).map(([path, svg]) => {
		const name = path.split('/').pop().split('.').shift();
		return (
			<figure key={name}>
				<img src={svg} />
				<figcaption>{name}</figcaption>
			</figure>
		);
	});
};

<Meta title="Brand/Illustrations" />

<Title>Illustrations</Title>

<div className="sb-gallery">{generateElements(illustrations)}</div>
