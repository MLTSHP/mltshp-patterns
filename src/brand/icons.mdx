import { Meta, Title, IconGallery, IconItem } from '@storybook/blocks';
// Load all icons
// @see https://vitejs.dev/guide/features.html#glob-import
export const icons = import.meta.glob('../assets/icons/*.svg', {
  as: 'url',
  eager: true,
});
// Generate Storybook Icon elements for each
// @see https://storybook.js.org/docs/react/api/doc-block-icongallery
export const generateElements = (icons) => {
  return Object.entries(icons).map(([path, svg]) => {
    const name = path.split('/').pop().split('.').shift();
    return (
      <IconItem name={name} key={name}>
        <img src={svg} />
      </IconItem>
    );
  });
};

<Meta title="Brand/Icons" />

<Title>Icons</Title>

<IconGallery>{generateElements(icons)}</IconGallery>
