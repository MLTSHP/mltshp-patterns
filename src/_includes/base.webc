<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title @text="title"></title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<script>
			let theme = localStorage.getItem('theme')
				? localStorage.getItem('theme')
				: 'system';
			document.querySelector('html').classList.add('t-' + theme);
		</script>
		<link webc:keep href="/main.css" rel="stylesheet" />
		<link webc:keep href="/styleguide.css" rel="stylesheet" />
		<script webc:keep type="module" src="/styleguide.js"></script>
	</head>
	<body>
		<h1 @text="title"></h1>
		<main @raw="content"></main>

		<div class="themes" hidden>
			<fieldset>
				<legend>Themes</legend>
				<button aria-pressed="false" data-theme="system">
					System preference
				</button>
				<button aria-pressed="false" data-theme="light">Light mode</button>
				<button aria-pressed="false" data-theme="dark">Dark mode</button>
			</fieldset>
		</div>

		<nav>
			<ul>
				<li>
					<a href="/" :aria-current="page.url === '/' ? 'page' : null">Home</a>
				</li>
				<li webc:for="item of eleventyNavigation($data.collections.all)">
					<a
						:href="item.url"
						@text="item.title"
						:aria-current="page.url === item.url ? 'page' : null"
					></a>
					<ul webc:if="item.children">
						<li webc:for="child of item.children">
							<a
								:href="child.url"
								@text="child.title"
								:aria-current="page.url === child.url ? 'page' : null"
							></a>
						</li>
					</ul>
				</li>
			</ul>
		</nav>
	</body>
</html>
